getgenv().config = {
    enabled = true,
    webhookUrl = "https://discord.com/api/webhooks/1057148307371204688/Q0AyL-ER9BnmRv8-u4FaFIrGDShNSIg10nwn8G1DKVJ9xACy_BuHr9PDAkv2GAcwrM3v"   
}

if not game:IsLoaded() then game.Loaded:Wait() end
local ts = game:GetService("TeleportService"); local ht = game:GetService("HttpService")
local hiddenPresentsFolder = game:GetService("Workspace").__THINGS.HiddenPresents
local player = game:GetService("Players").LocalPlayer; local hum = player.Character.HumanoidRootPart
local r = game:GetService("ReplicatedStorage"):WaitForChild("Network"):WaitForChild("Hidden Presents: Found")
local diamonds = "ðŸ’Ž Diamonds"; local startDiamonds = player.leaderstats[diamonds].Value
local startTime = tick()
local webhookUrl = 0

function sendWebhook(msg)
    local data = {["content"] = msg}
    local headers = {["Content-Type"] = "application/json"}
    game:GetService("HttpService"):PostAsync(getgenv().config.webhookUrl, ht:JSONEncode(data), Enum.HttpContentType.ApplicationJson, false, headers)
end

while getgenv().config.enabled do
    for _, present in pairs(hiddenPresentsFolder:GetChildren()) do
        if present.Name ~= "Highlight" then
            task.wait(0.1)
            local c = "ID_"
            for i,v in string.split(tostring(present.Position,", ")) do
                c..= string.format("%.6f",v).."_"
            end
            task.wait(0.1)
            r:InvokeServer(string.sub(c,1,#c-1))
            task.wait(0.1)
        end
    end
    local newDiamonds = player.leaderstats[diamonds].Value; local endDiamonds = newDiamonds - startDiamonds
    task.wait(0.2)
    if endDiamonds > 0 then
        sendWebhook("just earned "..endDiamonds.." diamonds")
    end
    task.wait(305)
end
